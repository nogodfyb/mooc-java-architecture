# 四种集群架构

## 主备模式

![](img\8.png)

![](img\9.png)

![](img\10.png)

## 远程模式

![](img\11.png)

配置复杂，用得不多。

## 镜像模式

### 镜像模式

![](img\12.png)

### 镜像队列

![](img\13.png)

### 集群架构

![](img\14.png)

## 多活模式

![](img\15.png)

![](img\16.png)

![](img\17.png)

![](img\18.png)

![](img\19.png)

# 高性能原因

![](img\26.png)

# AMQP

## 定义

![](img\27.png)![](img\28.png)

![](img\29.png)

## 核心概念

![](img\30.png)

![](img\31.png)

![](img\32.png)

![](img\33.png)

![](img\34.png)

# 整体架构

## 架构

![](img\35.png)

## 流转

![](img\36.png)

# 消息保障100%发出

## 生产端的可靠性传递

![](img\37.png)

![](img\38.png)

## 方案一

![](img\39.png)

## 方案二

![](img\40.png)

![](img\41.png)

# 幂等性

## 概念

![](img\42.png)

## 消费端幂等性保障

![](img\43.png)

![](img\44.png)

![](img\45.png)

![](img\46.png)

# 基础组件

## 实现关键点

![](img\47.png)

## 功能点

![](img\48.png)